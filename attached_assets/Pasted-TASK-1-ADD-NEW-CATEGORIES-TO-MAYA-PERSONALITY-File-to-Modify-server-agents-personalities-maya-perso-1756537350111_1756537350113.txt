TASK 1: ADD NEW CATEGORIES TO MAYA PERSONALITY
File to Modify
server/agents/personalities/maya-personality.ts
Location
Find the categories: { section (around line 150) and add the 4 new categories after the existing "Studio" category and before the closing }, bracket.
Implementation Steps

Locate the insertion point - Find the end of the "Studio" category:

typescript"Studio": {
  // ... existing Studio category content
}  // <- ADD NEW CATEGORIES AFTER THIS LINE

Add comma after Studio category if missing:

typescript"Studio": {
  // ... existing content
},  // <- ENSURE COMMA EXISTS HERE

Insert the 4 new categories exactly as provided in the expansion code, maintaining proper TypeScript syntax.
Verify syntax - Ensure all commas, brackets, and quotes are correct.


TASK 2: UPDATE CATEGORY DETECTION LOGIC
File to Modify
server/routes/maya-unified.ts
Location
Find the category detection logic in the createDetailedPromptFromConcept function (around line 1580).
Add New Detection Keywords
Find this section:
typescript// PHASE 3A: Detect category from context for targeted styling
let detectedCategory = '';
const contextLower = originalContext.toLowerCase();
if (contextLower.includes('business') || contextLower.includes('corporate')) {
  detectedCategory = 'Business';
} 
// ... existing detection logic
Add these new detection blocks BEFORE the final } of the detection logic:
typescript// Flat Lays detection
else if (contextLower.includes('flat lay') || contextLower.includes('clothing arrangement') || 
         contextLower.includes('product styling') || contextLower.includes('beauty flat lay')) {
  detectedCategory = 'Flat Lays';
}
// Cultural/Regional detection  
else if (contextLower.includes('scandinavian') || contextLower.includes('mediterranean') ||
         contextLower.includes('parisian') || contextLower.includes('italian') || 
         contextLower.includes('cultural') || contextLower.includes('regional')) {
  detectedCategory = 'Cultural & Regional';
}
// Alternative Aesthetics detection
else if (contextLower.includes('gothic') || contextLower.includes('bohemian') ||
         contextLower.includes('preppy') || contextLower.includes('rock') || 
         contextLower.includes('alternative') || contextLower.includes('creative')) {
  detectedCategory = 'Alternative Aesthetics';
}
// Vintage detection
else if (contextLower.includes('vintage') || contextLower.includes('retro') ||
         contextLower.includes('1920s') || contextLower.includes('1950s') ||
         contextLower.includes('1960s') || contextLower.includes('1970s') || 
         contextLower.includes('1980s') || contextLower.includes('classic')) {
  detectedCategory = 'Vintage';
}

TASK 3: VERIFICATION AND TESTING
Step 3.1: Syntax Verification

Check TypeScript compilation - Ensure no syntax errors
Verify category count - Should now be 23 total categories (19 original + 4 new)
Test server startup - Ensure Maya personality loads without errors

Step 3.2: Category Loading Test
Add temporary console.log to verify new categories load:
typescript// In personality-config.ts, after category loading code:
console.log(`ðŸŽ¨ MAYA CATEGORIES LOADING: Found ${Object.keys(personality.categories).length} categories`);
