import React, { useState, useEffect } from 'react';
import { Camera, Upload, Check, Clock, Star, ArrowRight } from 'lucide-react';

const AuthenticMayaOnboarding = () => {
  const [currentStep, setCurrentStep] = useState('welcome'); // welcome, sharing, consultation, completion
  const [userName] = useState('Sarah');
  const [uploadedPhotos, setUploadedPhotos] = useState([]);
  const [trainingProgress, setTrainingProgress] = useState(0);
  const [consultationStep, setConsultationStep] = useState(1);
  const [isTrainingComplete, setIsTrainingComplete] = useState(false);

  // Simulate training progress while user is in consultation
  useEffect(() => {
    if (currentStep === 'consultation') {
      const interval = setInterval(() => {
        setTrainingProgress(prev => {
          if (prev >= 100) {
            setIsTrainingComplete(true);
            clearInterval(interval);
            return 100;
          }
          return prev + 1.2;
        });
      }, 200);
      return () => clearInterval(interval);
    }
  }, [currentStep]);

  // Maya's Welcome - Direct & Authentic
  const WelcomeStep = () => (
    <div className="min-h-screen bg-black text-white relative overflow-hidden">
      {/* Subtle Background */}
      <div className="absolute inset-0 opacity-20">
        <img 
          src="https://images.unsplash.com/photo-1494790108755-2616c79e9a9e?w=1600&h=1200&fit=crop&crop=face" 
          alt="Professional transformation"
          className="w-full h-full object-cover"
        />
        <div className="absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"></div>
      </div>

      {/* Simple Navigation */}
      <nav className="relative z-10 p-8">
        <div className="flex justify-between items-center">
          <div className="font-serif text-2xl font-light tracking-[0.2em] uppercase">
            SSELFIE
          </div>
          <div className="text-xs tracking-[0.4em] uppercase opacity-70">
            Studio
          </div>
        </div>
      </nav>

      {/* Authentic Content */}
      <div className="relative z-10 min-h-screen flex items-center">
        <div className="max-w-6xl mx-auto px-8 grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          
          {/* Left: Maya's Real Talk */}
          <div>
            <div className="text-xs tracking-[0.5em] uppercase opacity-70 mb-8">
              Hey {userName}, I'm Maya
            </div>
            
            <h1 className="font-serif text-[clamp(3rem,8vw,6rem)] font-light leading-[0.85] tracking-wide uppercase mb-8">
              Let's Get<br/>You Some<br/>Photos
            </h1>
            
            <div className="space-y-6 text-lg leading-relaxed opacity-90 max-w-lg">
              <p>
                Here's what actually happens: You spend two hours trying to get one decent photo for LinkedIn. It still looks weird. You post it anyway.
              </p>
              <p>
                I get it. I've been there. Scrolling through your camera roll like "what can I actually post today?"
              </p>
              <p>
                Your mess <em>is</em> your message, {userName}. Those photos you think are terrible? They're probably the most authentic ones you have. Your phone has everything we need.
              </p>
            </div>

            <div className="mt-12">
              <button 
                onClick={() => setCurrentStep('sharing')}
                className="group relative overflow-hidden"
              >
                <div className="bg-white text-black px-12 py-4 text-xs tracking-[0.4em] uppercase font-light transition-all duration-500 group-hover:bg-transparent group-hover:text-white border border-white">
                  Get Professional Photos
                </div>
              </button>
            </div>

            <div className="mt-8 text-xs tracking-[0.2em] uppercase opacity-60">
              Upload selfies, get 100+ professional photos monthly
            </div>
          </div>

          {/* Right: Before/After Preview */}
          <div className="relative">
            <div className="text-xs tracking-[0.4em] uppercase text-center mb-8 opacity-70">
              Actually looks like you
            </div>
            
            {/* Simple Grid */}
            <div className="grid grid-cols-2 gap-4">
              {[
                "https://images.unsplash.com/photo-1494790108755-2616c79e9a9e?w=400&h=500&fit=crop&crop=face",
                "https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400&h=500&fit=crop&crop=face",
                "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=500&fit=crop&crop=face",
                "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400&h=500&fit=crop&crop=face"
              ].map((img, index) => (
                <div 
                  key={index} 
                  className="group cursor-pointer overflow-hidden"
                  style={{ aspectRatio: '4/5' }}
                >
                  <img 
                    src={img} 
                    alt={`Professional photo ${index + 1}`}
                    className="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"
                  />
                </div>
              ))}
            </div>

            <div className="text-center mt-8">
              <div className="text-xs tracking-[0.2em] uppercase opacity-60">
                Professional without the photographer
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  // Photo Sharing - Honest & Direct
  const PhotoSharingStep = () => (
    <div className="min-h-screen bg-white">
      {/* Simple Header */}
      <div className="border-b border-gray-200">
        <div className="max-w-6xl mx-auto px-8 py-6 flex justify-between items-center">
          <div className="font-serif text-xl tracking-[0.2em] uppercase">
            Upload Your Selfies
          </div>
          <div className="text-xs tracking-[0.4em] uppercase text-gray-500">
            Step 1 • Takes 2 minutes
          </div>
        </div>
      </div>

      <div className="max-w-4xl mx-auto px-8 py-16">
        
        {/* Direct Value Prop */}
        <div className="text-center mb-16">
          <h2 className="font-serif text-[clamp(2rem,5vw,3rem)] font-light tracking-wide uppercase mb-8">
            Start With What<br/>You Have
          </h2>
          
          <div className="max-w-2xl mx-auto space-y-6 text-gray-600 leading-relaxed">
            <p>
              Here's exactly how this works: Upload 10-15 selfies from your phone. I study them like a photographer studies light. Then I create 100+ professional photos that actually look like you.
            </p>
            <p>
              <strong>Include the "bad" ones.</strong> The blurry Tuesday morning selfie. The one where you're laughing too hard. The tired-but-real moment. That's where your authentic brand lives.
            </p>
          </div>
        </div>

        {/* Upload Area */}
        <div className="border-2 border-dashed border-gray-300 p-12 text-center hover:border-black transition-colors cursor-pointer group">
          <div className="max-w-md mx-auto">
            <Camera className="w-16 h-16 mx-auto mb-6 text-gray-400 group-hover:text-black transition-colors" />
            
            <h3 className="font-serif text-xl font-light tracking-wide mb-4">
              Upload 10-15 Selfies
            </h3>
            
            <p className="text-gray-600 text-sm mb-6">
              From your camera roll. The good, the bad, the real. I want to see who you actually are, not who you think you should be.
            </p>
            
            <button 
              onClick={() => setCurrentStep('consultation')}
              className="bg-black text-white px-8 py-3 text-xs tracking-[0.3em] uppercase font-light hover:bg-gray-800 transition-colors"
            >
              Choose From Camera Roll
            </button>
          </div>
        </div>

        {/* What Happens Next */}
        <div className="mt-16 bg-gray-50 p-8">
          <h4 className="font-serif text-xl font-light tracking-wide mb-6 text-center">
            Here's what happens next
          </h4>
          
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8 text-sm">
            <div className="text-center">
              <div className="text-xs tracking-[0.3em] uppercase text-gray-500 mb-3">
                01 • I Study Your Photos
              </div>
              <p>Your expressions, your natural lighting, how you actually look when you're being yourself.</p>
            </div>
            
            <div className="text-center">
              <div className="text-xs tracking-[0.3em] uppercase text-gray-500 mb-3">
                02 • We Talk About Your Goals
              </div>
              <p>While I'm working, we'll figure out what you actually need these photos to do for your business.</p>
            </div>
            
            <div className="text-center">
              <div className="text-xs tracking-[0.3em] uppercase text-gray-500 mb-3">
                03 • You Get Photos That Work
              </div>
              <p>Professional photos that look like you, ready for LinkedIn, websites, whatever you need.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  // Consultation - Real Questions
  const ConsultationStep = () => (
    <div className="min-h-screen bg-white">
      {/* Progress Header */}
      <div className="border-b border-gray-200">
        <div className="max-w-6xl mx-auto px-8 py-4">
          <div className="flex justify-between items-center">
            <div className="flex items-center gap-4">
              <div className="font-serif text-lg tracking-[0.2em] uppercase">
                Quick Questions
              </div>
              {!isTrainingComplete && (
                <div className="flex items-center gap-2 text-xs text-gray-500">
                  <Clock className="w-4 h-4" />
                  <span>Learning your photos...</span>
                </div>
              )}
            </div>
            
            <div className="text-xs tracking-[0.2em] uppercase text-gray-500">
              Question {consultationStep} of 4
            </div>
          </div>
          
          {/* Simple Progress */}
          {!isTrainingComplete && (
            <div className="mt-4">
              <div className="w-full h-px bg-gray-200 relative overflow-hidden">
                <div 
                  className="h-full bg-black transition-all duration-1000 ease-out"
                  style={{ width: `${trainingProgress}%` }}
                ></div>
              </div>
            </div>
          )}
        </div>
      </div>

      <div className="max-w-6xl mx-auto px-8 py-16">
        <div className="grid grid-cols-1 lg:grid-cols-5 gap-16">
          
          {/* Maya's Real Questions */}
          <div className="lg:col-span-3">
            <div className="space-y-12">
              
              {/* Current Question */}
              <div className="bg-gray-50 p-8">
                <div className="text-xs tracking-[0.4em] uppercase text-gray-500 mb-6">
                  Maya
                </div>
                
                {consultationStep === 1 && (
                  <div>
                    <div className="font-serif text-2xl font-light tracking-wide mb-6">
                      "What do you actually do, {userName}?"
                    </div>
                    <p className="text-gray-600 leading-relaxed mb-8">
                      Skip the elevator pitch. Just tell me what you do when you're actually working. What problem do you solve for people?
                    </p>
                    
                    <div className="space-y-3">
                      <div className="text-sm tracking-[0.2em] uppercase text-gray-700 mb-4">
                        What's your work?
                      </div>
                      {[
                        'I run a business',
                        'I coach/consult people', 
                        'I create things',
                        'I lead a team'
                      ].map((option) => (
                        <button 
                          key={option}
                          onClick={() => setConsultationStep(2)}
                          className="w-full text-left p-4 border border-gray-200 hover:border-black hover:bg-black hover:text-white transition-all duration-300 text-sm tracking-[0.1em]"
                        >
                          {option}
                        </button>
                      ))}
                    </div>
                  </div>
                )}

                {consultationStep === 2 && (
                  <div>
                    <div className="font-serif text-2xl font-light tracking-wide mb-6">
                      "Where do you feel like a fraud?"
                    </div>
                    <p className="text-gray-600 leading-relaxed mb-8">
                      Everyone has that moment where they think "what if people find out I don't actually know what I'm doing?" What's yours?
                    </p>
                    
                    <textarea 
                      placeholder="Sometimes I worry that..."
                      className="w-full h-32 p-4 border border-gray-200 focus:border-black focus:outline-none resize-none text-sm"
                    />
                    
                    <button 
                      onClick={() => setConsultationStep(3)}
                      className="mt-4 bg-black text-white px-6 py-3 text-xs tracking-[0.3em] uppercase"
                    >
                      Continue
                    </button>
                  </div>
                )}

                {consultationStep === 3 && (
                  <div>
                    <div className="font-serif text-2xl font-light tracking-wide mb-6">
                      "What would you do if you knew you couldn't fail?"
                    </div>
                    <p className="text-gray-600 leading-relaxed mb-8">
                      Not the safe answer. The real one. If failure wasn't an option, what would you actually go after?
                    </p>
                    
                    <div className="grid grid-cols-1 gap-4 mb-6">
                      {[
                        'Build something bigger', 
                        'Help more people', 
                        'Charge what I\'m worth', 
                        'Stop playing it safe'
                      ].map((option) => (
                        <button 
                          key={option}
                          onClick={() => setConsultationStep(4)}
                          className="p-4 border border-gray-200 hover:border-black hover:bg-black hover:text-white transition-all duration-300 text-sm text-left"
                        >
                          {option}
                        </button>
                      ))}
                    </div>
                  </div>
                )}

                {consultationStep === 4 && (
                  <div>
                    <div className="font-serif text-2xl font-light tracking-wide mb-6">
                      "Got it. I see you."
                    </div>
                    <p className="text-gray-600 leading-relaxed mb-8">
                      {isTrainingComplete ? 
                        "I've studied your photos and I understand what you're building. Ready to see photos that actually show who you are?" :
                        "I'm still learning your expressions, but I already know you're not playing small anymore. Almost ready to show you something good."
                      }
                    </p>
                    
                    {isTrainingComplete ? (
                      <button 
                        onClick={() => setCurrentStep('completion')}
                        className="bg-black text-white px-8 py-4 text-xs tracking-[0.3em] uppercase"
                      >
                        Get Professional Photos
                      </button>
                    ) : (
                      <div className="flex items-center gap-3 text-sm text-gray-500">
                        <Clock className="w-4 h-4 animate-pulse" />
                        <span>Working on your photos...</span>
                      </div>
                    )}
                  </div>
                )}
              </div>
            </div>
          </div>

          {/* Progress Tracking */}
          <div className="lg:col-span-2">
            <div className="sticky top-8">
              <div className="text-xs tracking-[0.4em] uppercase text-gray-500 mb-8">
                What's happening
              </div>
              
              <div className="space-y-6">
                <div className="bg-white border border-gray-200 p-6">
                  <div className="flex items-center gap-3 mb-3">
                    <Check className="w-4 h-4 text-black" />
                    <div className="text-sm tracking-[0.1em] uppercase">Photos Uploaded</div>
                  </div>
                  <p className="text-gray-600 text-sm">
                    12 selfies from your camera roll<br/>
                    Learning your natural expressions
                  </p>
                </div>
                
                <div className={`border border-gray-200 p-6 ${consultationStep >= 2 ? 'bg-white' : 'bg-gray-50 opacity-60'}`}>
                  <div className="flex items-center gap-3 mb-3">
                    {consultationStep >= 2 ? 
                      <Check className="w-4 h-4 text-black" /> : 
                      <div className="w-4 h-4 border border-gray-400 rounded-full"></div>
                    }
                    <div className="text-sm tracking-[0.1em] uppercase">What You Do</div>
                  </div>
                  <p className="text-gray-600 text-sm">
                    {consultationStep >= 2 ? 'Run a business' : 'Getting to know you...'}
                  </p>
                </div>
                
                <div className={`border border-gray-200 p-6 ${consultationStep >= 3 ? 'bg-white' : 'bg-gray-50 opacity-60'}`}>
                  <div className="flex items-center gap-3 mb-3">
                    {consultationStep >= 3 ? 
                      <Check className="w-4 h-4 text-black" /> : 
                      <div className="w-4 h-4 border border-gray-400 rounded-full"></div>
                    }
                    <div className="text-sm tracking-[0.1em] uppercase">Your Story</div>
                  </div>
                  <p className="text-gray-600 text-sm">
                    {consultationStep >= 3 ? 'Understanding your journey' : 'Learning...'}
                  </p>
                </div>

                <div className={`border border-gray-200 p-6 ${isTrainingComplete ? 'bg-white' : 'bg-gray-50 opacity-60'}`}>
                  <div className="flex items-center gap-3 mb-3">
                    {isTrainingComplete ? 
                      <Check className="w-4 h-4 text-black" /> : 
                      <Clock className="w-4 h-4 text-gray-400 animate-pulse" />
                    }
                    <div className="text-sm tracking-[0.1em] uppercase">Photos Ready</div>
                  </div>
                  <p className="text-gray-600 text-sm">
                    {isTrainingComplete ? 'Ready to generate' : `${Math.round(trainingProgress)}% complete`}
                  </p>
                </div>
              </div>

              {/* Sandra's Message */}
              <div className="mt-12 p-6 bg-black text-white">
                <div className="font-serif text-lg font-light italic leading-relaxed mb-4">
                  "Your phone has everything you need."
                </div>
                <div className="text-xs tracking-[0.3em] uppercase opacity-70">
                  — Sandra, SSELFIE founder
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );

  // Completion - Direct Results
  const CompletionStep = () => (
    <div className="min-h-screen bg-black text-white">
      <div className="max-w-4xl mx-auto px-8 py-24 text-center">
        
        {/* Success */}
        <div className="mb-16">
          <div className="w-24 h-24 mx-auto mb-8 bg-white/10 rounded-full flex items-center justify-center">
            <Check className="w-12 h-12" />
          </div>
          
          <h1 className="font-serif text-[clamp(2rem,5vw,4rem)] font-light leading-tight tracking-wide uppercase mb-8">
            You're Ready<br/>For Photos<br/>That Work
          </h1>
          
          <p className="text-lg leading-relaxed opacity-90 max-w-2xl mx-auto mb-12">
            I've studied your selfies, understood your story, and learned what makes you you. Now I'm ready to create professional photos that actually look like you - not some corporate version of you.
          </p>
        </div>

        {/* What I Learned */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16 text-left">
          {[
            {
              title: 'Your Real Expression',
              insight: 'You look confident but not cocky. Professional but still human.'
            },
            {
              title: 'What You Actually Need', 
              insight: 'Photos that show you know what you\'re doing without being intimidating.'
            },
            {
              title: 'Your Authentic Story',
              insight: 'You\'re building something real. Time for photos that match that energy.'
            }
          ].map((item, index) => (
            <div key={index} className="p-6 border border-white/20">
              <div className="text-sm tracking-[0.2em] uppercase mb-3 opacity-70">
                {item.title}
              </div>
              <p className="text-sm leading-relaxed">
                {item.insight}
              </p>
            </div>
          ))}
        </div>

        {/* Call to Action */}
        <div>
          <button className="group relative overflow-hidden">
            <div className="bg-white text-black px-12 py-4 text-xs tracking-[0.4em] uppercase font-light transition-all duration-500 group-hover:bg-transparent group-hover:text-white border border-white">
              Create Your Professional Photos
            </div>
          </button>
          
          <div className="mt-6 text-xs tracking-[0.2em] uppercase opacity-60">
            4 photo concepts • Ready in 30 seconds
          </div>
        </div>
      </div>
    </div>
  );

  // Main render
  switch (currentStep) {
    case 'welcome':
      return <WelcomeStep />;
    case 'sharing':
      return <PhotoSharingStep />;
    case 'consultation':
      return <ConsultationStep />;
    case 'completion':
      return <CompletionStep />;
    case 'workspace':
      return <WorkspaceStep />;
    default:
      return <WelcomeStep />;
  }
};

export default AuthenticMayaOnboarding;